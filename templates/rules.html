{% extends "layout.html" %}
{% block title %}Rules{% endblock %}
{% block content %}
    <div class="container mt-5">
        <h1>ChemGuesser游戏规则</h1>
        
        <h2 class="mt-4">基础规则</h2>
        <p>游戏开始时，系统会根据设置的权重从easy、mid-easy、mid三个题目池中随机选取一个，并从中随机选取一个化学物质作为“题目”。该物质不会被玩家提前知道。</p>
        <p>玩家可以进行有限次或无限次（由游戏模式决定）提问，每次提问一个有关该物质的问题（例如：该物质是否是氧化物？），然后系统会根据“题目”物质和玩家的提问给出回答。</p>
        <p>AI回答规则：</p>
        <ul>
            <li>若玩家提问了有关该物质特征或性质的问题，若该物质具有这个特征或性质，则AI会回答“YES”，若不具有，则回答“NO”；</li>
            <li>若玩家直接猜测该物质的名称，若正确，则AI会回答“CORRECT”，若不正确，则AI会回答“INCORRECT”；</li>
            <li>若玩家的问题不符合以上两种或无法用“YES”或“NO”回答，则AI会回答“CANNOT ANSWER”。</li>
        </ul>
        
        <h2 class="mt-4">难度设置</h2>
        <table class="table table-bordered mt-3">
            <thead class="table-light">
                <tr>
                    <th>难度</th>
                    <th>easy权重</th>
                    <th>mid-easy权重</th>
                    <th>mid权重</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>入门模式</td>
                    <td>0.9</td>
                    <td>0.1</td>
                    <td>0</td>
                </tr>
                <tr>
                    <td>简单模式</td>
                    <td>0.5</td>
                    <td>0.5</td>
                    <td>0</td>
                </tr>
                <tr>
                    <td>进阶模式</td>
                    <td>0.2</td>
                    <td>0.8</td>
                    <td>0</td>
                </tr>
                <tr>
                    <td>中等模式</td>
                    <td>0.1</td>
                    <td>0.8</td>
                    <td>0.1</td>
                </tr>
                <tr>
                    <td>困难模式</td>
                    <td>0</td>
                    <td>0.3</td>
                    <td>0.7</td>
                </tr>
            </tbody>
        </table>
        
        <h2 class="mt-4">游戏模式</h2>
        
        <h3 class="mt-3">1. 练习模式</h3>
        <p>玩家可以进行无限次猜测，不会失败，直到玩家猜出正确的物质并胜利或中途退出。适合初学者熟悉游戏规则和化学知识。</p>
        
        <h3 class="mt-3">2. 玩家对战模式（PVP）</h3>
        <ul>
            <li>两名玩家各具有100点初始血量，进行多轮游戏。</li>
            <li>每轮游戏开始时，系统随机选取题目。</li>
            <li>两名玩家各可以进行无限次猜测，直到锁定答案。</li>
            <li>一名玩家锁定答案后，另一名玩家需要在限制时间内锁定答案，否则视为放弃本轮。</li>
            <li>两名玩家均锁定答案或其中一名玩家选择放弃本轮后，系统同时公布结果。</li>
            <li>胜利玩家对失败玩家造成伤害，伤害计算规则：(k*(n-1) + 1)*d/q，其中k为伤害倍率增长步长，n为轮数，d为基础伤害，q为猜测次数。</li>
            <li>任意一名玩家血量低于0时，游戏结束。</li>
        </ul>
        
        <h3 class="mt-3">3. AI对战模式</h3>
        <p>规则与玩家对战模式基本一致，但对手是AI。AI会模拟人类玩家的行为与当前玩家进行对战。特别地，AI对战结束后玩家的ELO等级分不会发生变化。</p>
    </div>
{% endblock %}